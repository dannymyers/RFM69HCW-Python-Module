Function Descriptions

Last Modified - March 11, 2017

Note: Work in Progress!!!

Intro: Below is a list of the module functions so far that I've developed.  
Most of the functions are for setting the various parameters for the radio,
2 for transmit and receive, 1 to get the last RSSI value and 1 to get the 
temperature via the radios temperature sensor.

transmit(transmitData, addressOn=False, address=0,packetLength=64) 
– function to transmit data from the radio.  

- transmitData: data to be transmitted, should be in string format
- addressOn: if true an address byte will be added to the data to be sent
- address:  the address byte to be sent if any address is being sent
- packetLength:  length of packet radio is expecting to send, if fixed length
mode is used this should match the payload length parameter the radio is using

receive(timeout=999, background=False) – function to receive data sent to the radio

- timeout: length of time the radio should stay in receive mode,  a value of -1 
will leave the radio in receive mode indefinately.  To cancel the radio out of 
receive mode early set the radio objects receiveTimeout variable to 0.
- background – a value of False will leave the receive function inline with your
 program, i.e. you program won't progress past the receive function until the 
timeout length is reached. A value of True will put the receive function into 
the background via a seperate thread so your program can proceed past the receive
 function and do other stuff while the gathing receive data.

All received data is put into the radio object's receiveData[] list.

last_rssi() - this function returns the last received signal strength indicator
stored in the radio's rssi register (RegRssiValue)  - this will be an integer 
value in dBm

temperature()  - this function will return the temperature obtained from the 
radio's temperature sensor – this will be an integer value.  Note: the 
temperature sensor will likely need to be calibrated against a know temperature.  
The radio object has a temperatureOffset variable that will need to be set. 
This can be done with the set_temperature_offset() function.

Radio Set up Functions

set_address_filtering(mode='none')– function to set the addressing filtering mode
- mode: valid string values; none, node or both.  None means no address filtering is used, node requires 
  address matching to the node address and both requires either node address or broadcast address matching
- sets bits 1&2 of RegPacketConfig1 (0x37)

set_afc(afcLowBetaOn='Standard', afcOffset=0, dccFreq=4, rxBW=10.4, autoclearOn='off', autoOn='on')– function
to set the parameters for automatic frequency correction.
- afcLowBetaOn -valid values are 'Standard' or 'Improved' and sets bit 5 of RegAfcCtrl (0x0B)
- afcOffset – sets afc offset in low beta systems (i.e. afcLowBetaOn = Improved), pass an integer value in Hz. 
  Sets RegTestAfc (0x71)
- dccFreq – valid values are 0.125, 0.25, 0.5, 1, 2, 4, 8, 16
- rxBW – valid values are 2.6, 3.1, 3.9, 5.2, 6.3, 7.8, 10.4, 12.5, 15.6, 20.8, 25, 31.3, 41.7, 50.0, 62.5, 
  83.3, 100.0, 125.0, 166.7, 200.0, 250.0, 333.3, 400.0, 500.0. Together with dccFreq sets RegAfcBw (0x1A)
- autoclearOn – valid values are 'on' and 'off'
- autoOn – valid values are 'on' and off.  Together with autoclearOn sets bits 2 & 3 of RegAfcFei (0x1E)

set_auto_rx_restart(autoRestartOn='on', interPacketDelay=0x0) - function to enable/disable the automatic 
Rx restart (RSSI phase) feature of the radio and set the InterPacketRxDelay
- autoRestartOn – valid values are 'on' and 'off'
- interPacketDelay – pass an integer between 0 and 15
- sets bits 1 & 4-7 of RegPacketConfig2 (0x3D)

set_bitrate(bitrate) – function to set the radio transmission bitrate
- bitrate – pass an integer value in bits per seconds
- sets registers RegBitrateMsb & RegBitrateLsb (0x03 & 0x04)

set_broadcast_address(address=0x07)– function to set the broadcast address used in address filtering
- address – pass an integer between 1 and 255 in decimal or hex
- have had issues with even numbered address
- sets register RegBroadcastAdrs (0x3A)

set_checksum(crcOn='on', autoClearFifo='0n') – function to set the radio's checksum calculation function
- crcOn – value is either 'on' or 'off', if 'on' a 2 byte checksum value is added to the transmitted data 
  and the checksum calculation is performed on received data.
- autoClearFifo – value is either 'on' or 'off',  if 'on' and crcOn is 'on', if the checksum fails the 
  payload ready interrupt will not occur and the fifo will be cleared
- sets bits 3 & 4 of RegPacketConfig1 (0x37)

set_data_mode(dataMode='packet', modulationType='FSK', modShaping='none', bitSynchOn='on') – function to set
 the data mode parameters
- dataMode – valid choices are 'continuous' and 'packet'
- modulationType – valid choices are 'FSK' or 'OOK'
- modShaping – for modulationType of 'OOK',  valid values are 0, 1 , 2 with 0 meaing no shaping. For 
  modulationType of 'FSK', valid values are 0, 1, 0.5, 0.3 with 0 again meaning no shaping.
- bitSynchOn – valid values are 'on' or 'off'.  This only applies with dataMode of 'continuous' and 
  will set the dataMode with or without the bit synchronizer on.
- sets RegDataModul (0x02)

set_dc_free_encoding(encodingType='none') – function to enable/disable DC free encoding,
- encodingType – 3 choices 'none', 'manchester' or 'whitening'
- sets bits 5 & 6 of RegPacketConfig1 (0x37)

set_dio(dio0=0, dio1=0, dio2=0, dio3=0, dio4=0, dio5=0, clkOut='off') - function to map the DIO (digital I/O)
pins of the radio as well as set the clock output frequency if used
- dio0 – dio5 – pass an integer between 0 and 3 for each dio
- clkOut –  valid values are 'off', 'auto', 1, 2, 4, 8, 16 and 32
- sets RegDioMapping1 (0x25) and RegDioMapping2 (0x26)

set_encryption(aesOn='on', aesKeyList=[]) - function to enable/disable AES encryption and set the 16 AES 
encyption key registers. If aesKeyList is left empty the AES key registers will be left as is
- aesOn – valid values are 'on' and 'off'
- aesKeyList – pass a list of 16 integers (decimal or hex) with values between 1 and 255.
- sets bit 0 of RegPacketConfig2 (0x3D) and RegAesKey1 – RegAesKey16 (0x3E - 0x4D)

set_fifo_threshold(txStartCond='FifoLevel', threshold=20) - function to define the condition to start packet
transmission and set the Fifo threshold used to trigger the FifoLevel interrupt
- txStartCond – valid values are 'FifoLevel' and 'FifoNotEmpty'
- threshold – pass an integer value between 0 and 66
- sets RegFifoThresh (0x3C)

set_frequency(frequency) – function to set the tranceiver's tx/rx frequency
- frequency – pass an integer value in Hz
- sets registers RegFrfMsb, RegFrfMid & Reg FrfLsb (0x07-0x09)

set_frequency_deviation(fDev) - function to change the radio transmission frequency deviation
- fDev – pass an integer value in Hz
- sets registers RegFdevMsb & RegFdevLsb (0x05 & 0x06)

set_lna(autoOn='on', gainSelect='G1', inputZ=50) - function to set the parameters for the receiver's
LNA (low noise amplifier)
- autoOn – valid values are 'on' and 'off''. Set to 'on' the LNA gain is set automatically by the 
  radio's internal AGC loop, otherwise the gain is set manually by the user.
- gainSelect – valid values are 'G1', 'G2', 'G3', 'G4', 'G5', 'G6'. This will manually set the LNA 
  gain level if autoOn is set to 'off'
- inputZ – valid values are 50 or 200 (ohms) and sets the LNA's input impedance
- sets RegLna (0x18)

set_mode_sequencer(sequencer='on') - function to enable/disable the radio's automatic sequencer
- sequencer – valid values are 'on' and 'off'
- sets bit 7 of RegOpMode (0x01)

set_node_address(address=0x05)- function to set the node address used in address filtering
- address – pass an integer between 1 and 255 in decimal or hex
- have had issues with even numbered addresses
- sets register RegNodeAdrs (0x39)

set_OCP(ocpOn='on', ocpMax=95) - function to enable/disable OCP (Over Current Protection) and set the 
max current (mA)
- ocpOn - valid values are 'on' and 'off'
- ocpMax – pass an integer value between 45 and 120 (mA)
- sets register RegOcp (0x13)

set_operating_mode(mode='standby') - function to set the radio's current mode
- mode – valid values are 'transmit', 'receive', 'sleep', 'freqSynth' and 'standby'
- sets bits 2-4 of RegOpMode (0x01)

set_packet_format(packetFormat='fixed',payloadLength=64) - function to set the packet format including 
fixed vs variable vs unlimited length and payload length
- packetFormat – valid values are 'variable', 'fixed' and 'unlimited'
- payloadLength – pass an integer between 1 and 255
- sets bit 7 of RegPacketConfig1 (0x37) and all of RegPayloadLength (0x38)

set_power(ampSelect, powerLevel, powerRamp=40)
set_preamble_length(length=2)
set_register_by_address(registerAddr, value)
set_register_by_name(registerName, value)
set_rssi_threshold(rssi)
set_rxbw(dccFreq=4, rxBW=10.4)
set_sync(syncOn='on', syncSize=3, syncTol=2, fifoFill=0)
set_sync_word(syncValueList=[0xE2,0x4A,0x26])
set_temperature_offset(offset=0)
set_timeout_rssi_threshold(timeoutOn='off', multiplier=0x00)
set_timeout_rx_start(timeoutOn='off', multiplier=0x00)